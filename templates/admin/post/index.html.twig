{% extends 'admin/base.html.twig' %}

{% block title %}Administration des annonces{% endblock %}

{% block body %}

<div class="container-fluid">
    <h2 class="my-1 mt-4">Gestion des Posts</h2>
<table class="table table-hover mt-4">
	<thead>
		<tr>
			<th>Id</th>
            <th>Titre</th>
            <th>Auteur</th>
            <th>Note</th>
            <th>Actions</th>
		</tr>
	</thead>
	<tbody>
    {% set posts = pagination.getData %}
            {% for post in posts %}
                <tr>
                    <td>{{ post.id }}</td>
                    <td>{{ post.titre | slice(0,30) }} ..... !!</td>
                    <td>
                        <img alt="avatar " src="{{asset('/upload/users/' ~ post.author.avatar ) }}" class="avatar avatar-mini">
                            {{ post.author.getFullname }}</td>
                    <td>
                        <span class="badge badge-success rounded">{{ post.getAvgRating | number_format(1, ',', ' ') }}
                        </span>
                    </td>
                    <td>
                        <a href="" class="bn  p-1 mr-1">
                            <i class="fas fa-edit text-success"></i>
                        </a>
                        <a href="{{ path('deleteadminposte',{ 'id' : post.id }) }}" class="bn  p-1">
                            <i class="fas fa-trash text-danger"></i>
                        </a>
                    </td>
                </tr>
            {% endfor %}

	</tbody>
</table>
<div class="d-flex justify-content-center">
{{ pagination.display() }}
</div>
</div>
{% endblock %}
